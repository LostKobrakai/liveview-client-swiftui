{
  "abstract" : [
    {
      "text" : "See how to build custom form controls that integrate with the form data model and events.",
      "type" : "text"
    }
  ],
  "hierarchy" : {
    "paths" : [
      [
        "doc:\/\/LiveViewNative\/documentation\/LiveViewNative"
      ]
    ]
  },
  "identifier" : {
    "interfaceLanguage" : "swift",
    "url" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormControls"
  },
  "kind" : "article",
  "metadata" : {
    "modules" : [
      {
        "name" : "LiveViewNative"
      }
    ],
    "role" : "article",
    "roleHeading" : "Article",
    "title" : "Building Form Controls"
  },
  "primaryContentSections" : [
    {
      "content" : [
        {
          "anchor" : "Overview",
          "level" : 2,
          "text" : "Overview",
          "type" : "heading"
        },
        {
          "inlineContent" : [
            {
              "text" : "Implement the ",
              "type" : "text"
            },
            {
              "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormValue",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : " protocol on the type that will represent the value of your form control. This protocol defines how values are converted to and from the string representation that’s stored in the form model and sent to the server.",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "inlineContent" : [
            {
              "text" : "For example, if you’re building a custom toggle switch, implement it on ",
              "type" : "text"
            },
            {
              "code" : "Bool",
              "type" : "codeVoice"
            },
            {
              "text" : ":",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "code" : [
            "extension Bool: FormValue {",
            "    public var formValue: String {",
            "        self ? \"true\" : \"false\"",
            "    }",
            "    ",
            "    public init?(formValue: String) {",
            "        self = formValue == \"true\"",
            "    }",
            "}"
          ],
          "syntax" : "swift",
          "type" : "codeListing"
        },
        {
          "inlineContent" : [
            {
              "text" : "Then, in your view, add a property with the ",
              "type" : "text"
            },
            {
              "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormState",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : " property wrapper and use it as you would a normal SwiftUI ",
              "type" : "text"
            },
            {
              "code" : "@State",
              "type" : "codeVoice"
            },
            {
              "text" : " property.",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "code" : [
            "struct MicToggle: View {",
            "    @FormState(default: false) var value: Bool",
            "    ",
            "    var body: some View {",
            "        Button {",
            "            value.toggle()",
            "        } label: {",
            "            Image(systemName: value ? \"mic.fill\" : \"mic.slash\")",
            "        }",
            "    }",
            "}"
          ],
          "syntax" : "swift",
          "type" : "codeListing"
        },
        {
          "inlineContent" : [
            {
              "text" : "If the SwiftUI control you’re wrapping requires a ",
              "type" : "text"
            },
            {
              "code" : "Binding",
              "type" : "codeVoice"
            },
            {
              "text" : ", you can use the ",
              "type" : "text"
            },
            {
              "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormState\/projectedValue",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : " property accessed with the ",
              "type" : "text"
            },
            {
              "code" : "$",
              "type" : "codeVoice"
            },
            {
              "text" : " prefix to retrieve one:",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "code" : [
            "struct MicToggle: View {",
            "    @FormState(default: false) var value: Bool",
            "    ",
            "    var body: some View {",
            "        Toggle(isOn: $value) {",
            "            Text(value ? \"Mic On\" : \"Mic Off\")",
            "        }",
            "    }",
            "}"
          ],
          "syntax" : "swift",
          "type" : "codeListing"
        },
        {
          "inlineContent" : [
            {
              "text" : "Use this view in your LiveView view tree using the ",
              "type" : "text"
            },
            {
              "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/CustomRegistry",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : " (see ",
              "type" : "text"
            },
            {
              "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/AddCustomElement",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : ").",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "inlineContent" : [
            {
              "text" : "If used inside of a ",
              "type" : "text"
            },
            {
              "code" : "<live-form>",
              "type" : "codeVoice"
            },
            {
              "text" : ", it will participate in the form model automatically and its value will be sent whenever change or submit events are triggered on the form. The initial value will be read from the ",
              "type" : "text"
            },
            {
              "code" : "value",
              "type" : "codeVoice"
            },
            {
              "text" : " attribute on the element, if present.",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "inlineContent" : [
            {
              "text" : "When used outside of ",
              "type" : "text"
            },
            {
              "code" : "<live-form>",
              "type" : "codeVoice"
            },
            {
              "text" : ", the value is stored directly by the ",
              "type" : "text"
            },
            {
              "code" : "FormState",
              "type" : "codeVoice"
            },
            {
              "text" : ". The initial value will be read from the ",
              "type" : "text"
            },
            {
              "code" : "value",
              "type" : "codeVoice"
            },
            {
              "text" : " attribute on the element, if present. The ",
              "type" : "text"
            },
            {
              "code" : "@FormState",
              "type" : "codeVoice"
            },
            {
              "text" : " property wrapper will automatically detect changes to its value and send change events to the backend, if an event name has been provided in the ",
              "type" : "text"
            },
            {
              "code" : "phx-change",
              "type" : "codeVoice"
            },
            {
              "text" : " attribute on the element.",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "inlineContent" : [
            {
              "code" : "@FormState",
              "type" : "codeVoice"
            },
            {
              "text" : " values can also be bound directly to assigns on the backend by using live bindings. See the ",
              "type" : "text"
            },
            {
              "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/LiveBinding",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : " docs for more information.",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        }
      ],
      "kind" : "content"
    }
  ],
  "references" : {
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative" : {
      "abstract" : [
        {
          "text" : "Use Phoenix LiveView to build native iOS apps with SwiftUI.",
          "type" : "text"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative",
      "kind" : "symbol",
      "role" : "collection",
      "title" : "LiveViewNative",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative"
    },
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/AddCustomElement" : {
      "abstract" : [
        {
          "text" : "Use the ",
          "type" : "text"
        },
        {
          "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/RootRegistry",
          "isActive" : true,
          "type" : "reference"
        },
        {
          "text" : " protocol to define how DOM elements are converted to SwiftUI views.",
          "type" : "text"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/AddCustomElement",
      "kind" : "article",
      "role" : "article",
      "title" : "Adding Custom Elements",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative\/addcustomelement"
    },
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/CustomRegistry" : {
      "abstract" : [
        {
          "text" : "A custom registry allows clients to include custom view types in the LiveView DOM.",
          "type" : "text"
        }
      ],
      "fragments" : [
        {
          "kind" : "keyword",
          "text" : "protocol"
        },
        {
          "kind" : "text",
          "text" : " "
        },
        {
          "kind" : "identifier",
          "text" : "CustomRegistry"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/CustomRegistry",
      "kind" : "symbol",
      "navigatorTitle" : [
        {
          "kind" : "identifier",
          "text" : "CustomRegistry"
        }
      ],
      "role" : "symbol",
      "title" : "CustomRegistry",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative\/customregistry"
    },
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormModel" : {
      "abstract" : [
        {
          "text" : "A form model stores the working copy of the data for a specific ",
          "type" : "text"
        },
        {
          "code" : "<form>",
          "type" : "codeVoice"
        },
        {
          "text" : " element.",
          "type" : "text"
        }
      ],
      "fragments" : [
        {
          "kind" : "keyword",
          "text" : "class"
        },
        {
          "kind" : "text",
          "text" : " "
        },
        {
          "kind" : "identifier",
          "text" : "FormModel"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormModel",
      "kind" : "symbol",
      "navigatorTitle" : [
        {
          "kind" : "identifier",
          "text" : "FormModel"
        }
      ],
      "role" : "symbol",
      "title" : "FormModel",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative\/formmodel"
    },
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormState" : {
      "abstract" : [
        {
          "text" : "A property wrapper that stores the primary value of a form element.",
          "type" : "text"
        }
      ],
      "fragments" : [
        {
          "kind" : "keyword",
          "text" : "struct"
        },
        {
          "kind" : "text",
          "text" : " "
        },
        {
          "kind" : "identifier",
          "text" : "FormState"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormState",
      "kind" : "symbol",
      "navigatorTitle" : [
        {
          "kind" : "identifier",
          "text" : "FormState"
        }
      ],
      "role" : "symbol",
      "title" : "FormState",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative\/formstate"
    },
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormState\/projectedValue" : {
      "abstract" : [
        {
          "text" : "A binding to the element’s value that can be used as the storage for other views or controls.",
          "type" : "text"
        }
      ],
      "fragments" : [
        {
          "kind" : "keyword",
          "text" : "var"
        },
        {
          "kind" : "text",
          "text" : " "
        },
        {
          "kind" : "identifier",
          "text" : "projectedValue"
        },
        {
          "kind" : "text",
          "text" : ": "
        },
        {
          "kind" : "typeIdentifier",
          "preciseIdentifier" : "s:7SwiftUI7BindingV",
          "text" : "Binding"
        },
        {
          "kind" : "text",
          "text" : "<"
        },
        {
          "kind" : "typeIdentifier",
          "preciseIdentifier" : "s:14LiveViewNative9FormStateV5Valuexmfp",
          "text" : "Value"
        },
        {
          "kind" : "text",
          "text" : ">"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormState\/projectedValue",
      "kind" : "symbol",
      "role" : "symbol",
      "title" : "projectedValue",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative\/formstate\/projectedvalue"
    },
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormValue" : {
      "abstract" : [
        {
          "text" : "A form value is any type that can be stored in a ",
          "type" : "text"
        },
        {
          "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormModel",
          "isActive" : true,
          "type" : "reference"
        },
        {
          "text" : " and used with ",
          "type" : "text"
        },
        {
          "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormState",
          "isActive" : true,
          "type" : "reference"
        },
        {
          "text" : ".",
          "type" : "text"
        }
      ],
      "fragments" : [
        {
          "kind" : "keyword",
          "text" : "protocol"
        },
        {
          "kind" : "text",
          "text" : " "
        },
        {
          "kind" : "identifier",
          "text" : "FormValue"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormValue",
      "kind" : "symbol",
      "navigatorTitle" : [
        {
          "kind" : "identifier",
          "text" : "FormValue"
        }
      ],
      "role" : "symbol",
      "title" : "FormValue",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative\/formvalue"
    },
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/LiveBinding" : {
      "abstract" : [
        {
          "text" : "Live bindings provide a mechanism for sharing state between the server and client in a way that can be updated by either.",
          "type" : "text"
        }
      ],
      "fragments" : [
        {
          "kind" : "keyword",
          "text" : "struct"
        },
        {
          "kind" : "text",
          "text" : " "
        },
        {
          "kind" : "identifier",
          "text" : "LiveBinding"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/LiveBinding",
      "kind" : "symbol",
      "navigatorTitle" : [
        {
          "kind" : "identifier",
          "text" : "LiveBinding"
        }
      ],
      "role" : "symbol",
      "title" : "LiveBinding",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative\/livebinding"
    },
    "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/RootRegistry" : {
      "abstract" : [
        {
          "text" : "A root registry is a ",
          "type" : "text"
        },
        {
          "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/CustomRegistry",
          "isActive" : true,
          "type" : "reference"
        },
        {
          "text" : " type that can be used directly as the registry for a ",
          "type" : "text"
        },
        {
          "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/LiveSessionCoordinator",
          "isActive" : true,
          "type" : "reference"
        },
        {
          "text" : ".",
          "type" : "text"
        }
      ],
      "fragments" : [
        {
          "kind" : "keyword",
          "text" : "protocol"
        },
        {
          "kind" : "text",
          "text" : " "
        },
        {
          "kind" : "identifier",
          "text" : "RootRegistry"
        }
      ],
      "identifier" : "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/RootRegistry",
      "kind" : "symbol",
      "navigatorTitle" : [
        {
          "kind" : "identifier",
          "text" : "RootRegistry"
        }
      ],
      "role" : "symbol",
      "title" : "RootRegistry",
      "type" : "topic",
      "url" : "\/documentation\/liveviewnative\/rootregistry"
    }
  },
  "schemaVersion" : {
    "major" : 0,
    "minor" : 3,
    "patch" : 0
  },
  "sections" : [

  ],
  "seeAlsoSections" : [
    {
      "generated" : true,
      "identifiers" : [
        "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormState",
        "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormValue",
        "doc:\/\/LiveViewNative\/documentation\/LiveViewNative\/FormModel"
      ],
      "title" : "Form Controls"
    }
  ],
  "variants" : [
    {
      "paths" : [
        "\/documentation\/liveviewnative\/formcontrols"
      ],
      "traits" : [
        {
          "interfaceLanguage" : "swift"
        }
      ]
    }
  ]
}